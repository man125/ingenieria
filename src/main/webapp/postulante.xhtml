<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">
    <h:head>
        <title>Facelet Title</title>
    </h:head>
    <h:body>
        <f:view>


            <h:form id="table">
                <h1><h:outputText value="List"/></h1>
                <p:dataTable id="listP" value="#{posController.listar()}" var="item">
                    <p:column>
                        <f:facet name="header">
                            <h:outputText value="CedulaPostulante"/>
                        </f:facet>
                        <h:outputText value="#{item.cedulaPostulante}"/>
                    </p:column>
                    <p:column>
                        <f:facet name="header">
                            <h:outputText value="NombreCompleto"/>
                        </f:facet>
                        <h:outputText value="#{item.nombreCompleto}"/>
                    </p:column>
                    <p:column>
                        <f:facet name="header">
                            <h:outputText value="Escolaridad"/>
                        </f:facet>
                        <h:outputText value="#{item.escolaridad}"/>
                    </p:column>
                    <p:column>
                        <f:facet name="header">
                            <h:outputText value="Edad"/>
                        </f:facet>
                        <h:outputText value="#{item.edad}"/>
                    </p:column>
                    <p:column>
                        <f:facet name="header">
                            <h:outputText value="ExperienciaLaboral"/>
                        </f:facet>
                        <h:outputText value="#{item.experienciaLaboral}"/>
                    </p:column>
                    <p:column>
                        <f:facet name="header">
                            <h:outputText value="Especialidad"/>
                        </f:facet>
                        <h:outputText value="#{item.especialidad}"/>
                    </p:column>
                    <p:column>
                        <f:facet name="header">
                            <h:outputText value="LicenciaConducir"/>
                        </f:facet>
                        <h:outputText value="#{item.licenciaConducir}"/>
                    </p:column>
                    <p:column>
                        <f:facet name="header">
                            <h:outputText value="CodigoEstado"/>
                        </f:facet>
                        <h:outputText value="#{item.codigoEstado.detalle}"/>
                    </p:column>
                    <p:column>
                        <f:facet name="header">
                            <h:outputText value="Residencia"/>
                        </f:facet>
                        <h:outputText value="#{item.residencia.toString()}"/>
                    </p:column>
                </p:dataTable>
                <p:commandButton value="Agregar" oncomplete="PF('widModify').show();" update="dialogo"  />
            </h:form>
        </f:view>

        
        
        <p:dialog id="dialogo" widgetVar="widModify" header="Agregar Postulante">
        <f:view>


            <h:form>
                <h1><h:outputText value="Create/Edit"/></h1>
                <p:panelGrid columns="2">
                    <p:outputLabel value="Cedula_postulante:" for="cedula_postulante" />
                    <p:inputText id="cedula_postulante" value="#{posController.post.cedulaPostulante}" title="Cedula_postulante" />
                    <p:outputLabel value="Licencia:" for="licencia" />
                    <p:inputText id="licencia" value="#{posController.post.licenciaConducir}" title="Licencia" />
                    <p:outputLabel value="Nombre:" for="nombre" />
                    <p:inputText id="nombre" value="#{posController.post.nombreCompleto}" title="Nombre" />
                    <p:outputLabel value="Escolaridad:" for="escolaridad" />
                    <p:inputText id="escolaridad" value="#{posController.post.escolaridad}" title="Escolaridad" />
                    <p:outputLabel value="Edad:" for="edad" />
                    <p:inputText id="edad" value="#{posController.post.edad}" title="Edad" />
                    <p:outputLabel value="Experiencia:" for="experiencia" />
                    <p:inputText id="experiencia" value="#{posController.post.experienciaLaboral}" title="Experiencia" />
                   <p:outputLabel value="CodigoEstado:" for="codigoEstado" />
                    <p:selectOneMenu id="codigoEstado" value="#{posController.es.codigoEstado}" required="true" requiredMessage="The CodigoEstado field is required.">
                        <!-- TODO: update below reference to list of available items-->
                        <f:selectItems value="#{listController.listaEstados()}" var="lis" itemLabel="#{lis.detalle}" itemValue="#{lis.codigoEstado}"/>
                    </p:selectOneMenu>
                    <p:outputLabel value="Residencia:" for="residencia" />                   
                    <p:selectOneMenu id="residencia" value="#{posController.lugar.codigo}" required="true" requiredMessage="The CodigoEstado field is required.">
                        <!-- TODO: update below reference to list of available items-->
                        <f:selectItems value="#{listController.listaLugares()}" var="l" itemLabel="#{l.column1}" itemValue="#{l.codigo}"/>
                    </p:selectOneMenu>
                    <p:commandButton value="SAVE" action="#{posController.agregar()}" update=":table:listP" onclick="PF('widModify').hide();" />
                    <p:commandButton value="cancelar"  onclick="PF('widModify').hide();" />
                </p:panelGrid>
                  
            </h:form>
        </f:view>
       </p:dialog>
    </h:body>
</html>

